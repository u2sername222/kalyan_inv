!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var t,r=navigator.userAgent,a=/iphone/i.test(r),o=/chrome/i.test(r),i=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","а":"[А-Яа-яЁё]","*":"[A-Za-zА-Яа-яЁё0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var r;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((r=this.createTextRange()).collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),e=0-r.duplicate().moveStart("character",-1e5),t=e+r.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(r,s){var n,d,l,c,m,u,p;if(!r&&this.length>0){var f=e(this[0]).data(e.mask.dataName);return f?f():void 0}return s=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},s),n=e.mask.definitions,d=[],l=u=r.length,c=null,r=String(r),e.each(r.split(""),(function(e,t){"?"==t?(u--,l=e):n[t]?(d.push(new RegExp(n[t])),null===c&&(c=d.length-1),e<l&&(m=d.length-1)):d.push(null)})),this.trigger("unmask").each((function(){var f=e(this),w=e.map(r.split(""),(function(e,t){if("?"!=e)return n[e]?j(t):e})),h=w.join(""),g=f.val();function y(){if(s.completed){for(var e=c;e<=m;e++)if(d[e]&&w[e]===j(e))return;s.completed.call(f)}}function j(e){return e<s.placeholder.length?s.placeholder.charAt(e):s.placeholder.charAt(0)}function v(e){for(;++e<u&&!d[e];);return e}function b(e,t){var r,a;if(!(e<0)){for(r=e,a=v(t);r<u;r++)if(d[r]){if(!(a<u&&d[r].test(w[a])))break;w[r]=w[a],w[a]=j(a),a=v(a)}k(),f.caret(Math.max(c,e))}}function $(e){F(),f.val()!=g&&f.change()}function x(e,t){var r;for(r=e;r<t&&r<u;r++)d[r]&&(w[r]=j(r))}function k(){f.val(w.join(""))}function F(e){var t,r,a,o=f.val(),i=-1;for(t=0,a=0;t<u;t++)if(d[t]){for(w[t]=j(t);a++<o.length;)if(r=o.charAt(a-1),d[t].test(r)){w[t]=r,i=t;break}if(a>o.length){x(t+1,u);break}}else w[t]===o.charAt(a)&&a++,t<l&&(i=t);return e?k():i+1<l?s.autoclear||w.join("")===h?(f.val()&&f.val(""),x(0,u)):k():(k(),f.val(f.val().substring(0,i+1))),l?t:c}f.data(e.mask.dataName,(function(){return e.map(w,(function(e,t){return d[t]&&e!=j(t)?e:null})).join("")})),f.one("unmask",(function(){f.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;f.prop("readonly")||(clearTimeout(t),g=f.val(),e=F(),t=setTimeout((function(){f.get(0)===document.activeElement&&(k(),e==r.replace("?","").length?f.caret(0,e):f.caret(e))}),10))})).on("blur.mask",$).on("keydown.mask",(function(e){if(!f.prop("readonly")){var t,r,o,i=e.which||e.keyCode;p=f.val(),8===i||46===i||a&&127===i?(r=(t=f.caret()).begin,(o=t.end)-r==0&&(r=46!==i?function(e){for(;--e>=0&&!d[e];);return e}(r):o=v(r-1),o=46===i?v(o):o),x(r,o),b(r,o-1),e.preventDefault()):13===i?$.call(this,e):27===i&&(f.val(g),f.caret(0,F()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!f.prop("readonly")){var r,a,o,s=t.which||t.keyCode,n=f.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||s<32)&&s&&13!==s){if(n.end-n.begin!=0&&(x(n.begin,n.end),b(n.begin,n.end-1)),(r=v(n.begin-1))<u&&(a=String.fromCharCode(s),d[r].test(a))){if(function(e){var t,r,a,o;for(t=e,r=j(e);t<u;t++)if(d[t]){if(a=v(t),o=w[t],w[t]=r,!(a<u&&d[a].test(o)))break;r=o}}(r),w[r]=a,k(),o=v(r),i){setTimeout((function(){e.proxy(e.fn.caret,f,o)()}),0)}else f.caret(o);n.begin<=m&&y()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){f.prop("readonly")||setTimeout((function(){var e=F(!0);f.caret(e),y()}),0)})),o&&i&&f.off("input.mask").on("input.mask",(function(t){var r=f.val(),a=f.caret(),o=function(){e.proxy(e.fn.caret,f,a.begin,a.begin)()};if(p&&p.length&&p.length>r.length){for(var i=F(!0),s=a.end;s>0&&!d[s-1];)s--;0===s&&(s=i),a.begin=s,setTimeout((function(){o(),y()}),0)}else a.begin=F(!0),setTimeout((function(){o(),y()}),0)})),F()}))}})})),function($){window.tildaBrowserLang=window.navigator.userLanguage||window.navigator.language,window.tildaBrowserLang=window.tildaBrowserLang.toUpperCase(),-1!=window.tildaBrowserLang.indexOf("RU")?window.tildaBrowserLang="RU":window.tildaBrowserLang="EN",window.tildaForm={versionLib:"01.001",isRecaptchaScriptInit:!1,currentFormProccessing:!1,arMessages:{EN:{success:"Thank you! Your data has been submitted.",successorder:"Thank you! Order created. Please wait. We are going to the payment..."},RU:{success:"Спасибо! Данные успешно отправлены.",successorder:"Спасибо! Заказ оформлен. Пожалуйста, подождите. Идет переход к оплате...."}},arValidateErrors:{EN:{email:"Please put a correct e-mail",url:"Please put a correct URL",phone:"Please put a correct phone number",number:"Please put a correct number",date:"Please put a correct date",time:"Please put a correct time (HH:mm)",name:"Please put a name",namerus:"Please put a correct name (only cyrillic letters)",nameeng:"Please put a correct name (only latin letters)",string:"You put incorrect symbols. Only letters, numbers and punctuation symbols are allowed",req:"Please fill out all required fields",reqfield:"Required field",emptyfill:"No one field is filled"},RU:{email:"Укажите, пожалуйста, корректный email",url:"Укажите, пожалуйста, корректный URL",phone:"Укажите, пожалуйста, корректный номер телефона",number:"Укажите, пожалуйста, корректный номер",date:"Укажите, пожалуйста, корректную дату",time:"Укажите, пожалуйста, корректное время (ЧЧ:ММ)",name:"Укажите, пожалуйста, имя",namerus:"Укажите, пожалуйста, имя (только кириллица)",nameeng:"Укажите, пожалуйста, имя (только латиница)",string:"Вы написали некорректные символы. Разрешены только буквы, числа и знаки пунктуации",req:"Пожалуйста, заполните все обязательные поля",reqfield:"Обязательное поле",emptyfill:"Ни одно поле не заполнено"}}},$(document).ready((function(){window.tildaForm.captchaCallback=function(e){if(!window.tildaForm.currentFormProccessing||!window.tildaForm.currentFormProccessing.form)return!1;window.tildaForm.send(window.tildaForm.currentFormProccessing.form,window.tildaForm.currentFormProccessing.btn,window.tildaForm.currentFormProccessing.formtype,window.tildaForm.currentFormProccessing.formskey),window.tildaForm.currentFormProccessing=!1},window.tildaForm.validate=function(e){var t=[],r=!0;return e.find(".js-tilda-rule").each((function(){var e,a,o=$(this).data("tilda-req")||0,i=$(this).data("tilda-rule")||"none",s={},n=$(this).val(),d="";if(s.obj=$(this),s.type=[],n&&n.length>0&&(d=n.replace(/\s/g,""),n=n.trim()),n.length>0&&(r=!1),1==o&&(0==n.length&&0==d.length||("checkbox"==$(this).attr("type")||"radio"==$(this).attr("type"))&&0==$(this).closest("form").find('[name="'+$(this).attr("name")+'"]:checked').length))s.type.push("req");else switch(i){case"email":e=/^[a-zA-Zёа-яЁА-Я0-9_\.\-\+]{1,64}@[a-zA-Zёа-яЁА-ЯЁёäöüÄÖÜßèéû0-9][a-zA-Zёа-яЁА-ЯЁёäöüÄÖÜßèéû0-9\.\-]{0,253}\.[a-zA-Zёа-яЁА-Я]{2,10}$/gi,n.length>0&&!n.match(e)&&s.type.push("email");break;case"url":e=/^((https?|ftp):\/\/)?[a-zA-Zёа-яЁА-ЯЁёäöüÄÖÜßèéûşç0-9][a-zA-Zёа-яЁА-ЯЁёäöüÄÖÜßèéûşç0-9\.\-]{0,253}\.[a-zA-Zёа-яЁА-Я]{2,10}\/?$/gi,n.length>0&&((a=(a=(a=n.split("//"))&&a.length>1?a[1]:a[0]).split("/"))&&a.length>0&&a[0]>""?(a=a[0]).match(e)||s.type.push("url"):(a&&""!=a[0]||s.type.push("url"),a=""));break;case"phone":e=/^[0-9\(\)\-\+]+$/gi,(d.length>0&&!d.match(e)||1==(a=d.replace(/[^0-9]+/g,"")).indexOf("000")||1==a.indexOf("111")||1==a.indexOf("222")||1==a.indexOf("333")||1==a.indexOf("444")||1==a.indexOf("555")&&"0"!=a.substring(0,1)||1==a.indexOf("666")||1==a.indexOf("8888")&&"4"!=a.substring(0,1))&&s.type.push("phone");break;case"number":e=/^[0-9]+$/gi,d.length>0&&!d.match(e)&&s.type.push("number");break;case"date":e=/^[0-9]{1,4}[\-\.\/][0-9]{1,2}[\-\.\/][0-9]{1,4}$/gi,d.length>0&&!d.match(e)&&s.type.push("date");break;case"time":e=/^[0-9]{2}[:\.][0-9]{2}$/gi,d.length>0&&!d.match(e)&&s.type.push("time");break;case"name":e=/^([ЁёäöüÄÖÜßèéûҐґЄєІіЇїӐӑЙйК̆к̆Ӄ̆ӄ̆Ԛ̆ԛ̆Г̆г̆Ҕ̆ҕ̆ӖӗѢ̆ѣ̆ӁӂꚄ̆ꚅ̆ҊҋО̆о̆Ө̆ө̆Ꚍ̆ꚍ̆ЎўХ̆х̆Џ̆џ̆Ꚏ̆ꚏ̆Ꚇ̆ꚇ̆Ҽ̆ҽ̆Ш̆ш̆Ꚗ̆ꚗ̆Щ̆щ̆Ы̆ы̆Э̆э̆Ю̆ю̆Я̆я̆А́а́ЃѓД́д́Е́е́Ё́ёӘ́ә́З́з́И́и́І́і́Ї́ї́ЌќЛ́л́Н́н́О́о́Р́р́С́с́Т́т́У́у́Ӱ́ӱ́Ү́ү́Х́х́Ц́ц́Ы́ы́Э́э́Ӭ́ӭ́Ю́ю́Ю̈́ю̈́Я́я́Ѣ́ѣ́ҒғӺӻҒ̌ғ̌Ј̵ј̵ҞҟҜҝԞԟӨөҎҏҰұӾӿҸҹҌҍҢңҚқҒғӘәҺһІіҰұҮүӨөȺⱥꜺꜻƂƃɃƀȻȼꞒꞓƋƌĐđɆɇǤǥꞠꞡĦħƗɨƗ́ɨ́Ɨ̀ɨ̀Ɨ̂ɨ̂Ɨ̌ɨ̌Ɨ̃ɨ̃Ɨ̄ɨ̄Ɨ̈ɨ̈Ɨ̋ɨ̋Ɨ̏ɨ̏Ɨ̧ɨ̧Ɨ̧̀ɨ̧̀Ɨ̧̂ɨ̧̂Ɨ̧̌ɨ̧̌ᵼɈɉɟɟ̟ʄʄ̊ʄ̥K̵k̵ꝀꝁꝂꝃꝄꝅꞢꞣŁłł̓Ł̣ł̣ᴌȽƚⱠⱡꝈꝉƛƛ̓ꞤꞥꝊꝋØøǾǿØ̀ø̀Ø̂øØ̌ø̌Ø̄ø̄Ø̃ø̃Ø̨ø̨Ø᷎ø᷎ᴓⱣᵽꝐꝑꝖꝗꝘꝙɌɍꞦꞧꞨꞩẜẝŦŧȾⱦᵺꝤꝥꝦꝧɄʉɄ́ʉ́Ʉ̀ʉ̀Ʉ̂ʉ̂Ʉ̌ʉ̌Ʉ̄ʉ̄Ʉ̃ʉ̃Ʉ̃́ʉ̃́Ʉ̈ʉ̈ʉ̞ᵾU̸u̸ᵿꝞꝟw̸ɎɏƵƶA-Za-z\u0300-\u03FF\u0400-\u04FF\u0500-\u05FF\u0600-\u06FF\u3040-\u30FF\u0041-\u007A\u00C0-\u02B8\uFB1D-\uFB1F\uFB2A-\uFB4E]{1,})([ЁёäöüÄÖÜßèéûҐґЄєІіЇїӐӑЙйК̆к̆Ӄ̆ӄ̆Ԛ̆ԛ̆Г̆г̆Ҕ̆ҕ̆ӖӗѢ̆ѣ̆ӁӂꚄ̆ꚅ̆ҊҋО̆о̆Ө̆ө̆Ꚍ̆ꚍ̆ЎўХ̆х̆Џ̆џ̆Ꚏ̆ꚏ̆Ꚇ̆ꚇ̆Ҽ̆ҽ̆Ш̆ш̆Ꚗ̆ꚗ̆Щ̆щ̆Ы̆ы̆Э̆э̆Ю̆ю̆Я̆я̆А́а́ЃѓД́д́Е́е́Ё́ёӘ́ә́З́з́И́и́І́і́Ї́ї́ЌќЛ́л́Н́н́О́о́Р́р́С́с́Т́т́У́у́Ӱ́ӱ́Ү́ү́Х́х́Ц́ц́Ы́ы́Э́э́Ӭ́ӭ́Ю́ю́Ю̈́ю̈́Я́я́Ѣ́ѣ́ҒғӺӻҒ̌ғ̌Ј̵ј̵ҞҟҜҝԞԟӨөҎҏҰұӾӿҸҹҌҍҢңҚқҒғӘәҺһІіҰұҮүӨөȺⱥꜺꜻƂƃɃƀȻȼꞒꞓƋƌĐđɆɇǤǥꞠꞡĦħƗɨƗ́ɨ́Ɨ̀ɨ̀Ɨ̂ɨ̂Ɨ̌ɨ̌Ɨ̃ɨ̃Ɨ̄ɨ̄Ɨ̈ɨ̈Ɨ̋ɨ̋Ɨ̏ɨ̏Ɨ̧ɨ̧Ɨ̧̀ɨ̧̀Ɨ̧̂ɨ̧̂Ɨ̧̌ɨ̧̌ᵼɈɉɟɟ̟ʄʄ̊ʄ̥K̵k̵ꝀꝁꝂꝃꝄꝅꞢꞣŁłł̓Ł̣ł̣ᴌȽƚⱠⱡꝈꝉƛƛ̓ꞤꞥꝊꝋØøǾǿØ̀ø̀Ø̂øØ̌ø̌Ø̄ø̄Ø̃ø̃Ø̨ø̨Ø᷎ø᷎ᴓⱣᵽꝐꝑꝖꝗꝘꝙɌɍꞦꞧꞨꞩẜẝŦŧȾⱦᵺꝤꝥꝦꝧɄʉɄ́ʉ́Ʉ̀ʉ̀Ʉ̂ʉ̂Ʉ̌ʉ̌Ʉ̄ʉ̄Ʉ̃ʉ̃Ʉ̃́ʉ̃́Ʉ̈ʉ̈ʉ̞ᵾU̸u̸ᵿꝞꝟw̸ɎɏƵƶA-Za-z\u0041-\u007A\u00C0-\u02B8\u0300-\u03FF\u0400-\u04FF\u0500-\u05FF\u0600-\u06FF\u3040-\u30FF\uFB1D-\uFB1F\uFB2A-\uFB4E\-\'\s\.]{0,})$/gi,n.length>0&&!n.match(e)&&s.type.push("name");break;case"nameeng":e=/^([A-Za-z\s]{1,}((\-)?[A-Za-z\.\s](\')?){0,})*$/i,n.length>0&&!n.match(e)&&s.type.push("nameeng");break;case"namerus":e=/^([А-Яа-яЁё\s]{1,}((\-)?[А-Яа-яЁё\.\s](\')?){0,})*$/i,n.length>0&&!n.match(e)&&s.type.push("namerus");break;case"string":e=/^[A-Za-zА-Яа-я0-9ЁёЁёäöüÄÖÜßèéûӐӑЙйК̆к̆Ӄ̆ӄ̆Ԛ̆ԛ̆Г̆г̆Ҕ̆ҕ̆ӖӗѢ̆ѣ̆ӁӂꚄ̆ꚅ̆ҊҋО̆о̆Ө̆ө̆Ꚍ̆ꚍ̆ЎўХ̆х̆Џ̆џ̆Ꚏ̆ꚏ̆Ꚇ̆ꚇ̆Ҽ̆ҽ̆Ш̆ш̆Ꚗ̆ꚗ̆Щ̆щ̆Ы̆ы̆Э̆э̆Ю̆ю̆Я̆я̆А́а́ЃѓД́д́Е́е́Ё́ёӘ́ә́З́з́И́и́І́і́Ї́ї́ЌќЛ́л́Н́н́О́о́Р́р́С́с́Т́т́У́у́Ӱ́ӱ́Ү́ү́Х́х́Ц́ц́Ы́ы́Э́э́Ӭ́ӭ́Ю́ю́Ю̈́ю̈́Я́я́Ѣ́ѣ́ҒғӺӻҒ̌ғ̌Ј̵ј̵ҞҟҜҝԞԟӨөҎҏҰұӾӿҸҹҌҍҢңҚқҒғӘәҺһІіҰұҮүӨөȺⱥꜺꜻƂƃɃƀȻȼꞒꞓƋƌĐđɆɇǤǥꞠꞡĦħƗɨƗ́ɨ́Ɨ̀ɨ̀Ɨ̂ɨ̂Ɨ̌ɨ̌Ɨ̃ɨ̃Ɨ̄ɨ̄Ɨ̈ɨ̈Ɨ̋ɨ̋Ɨ̏ɨ̏Ɨ̧ɨ̧Ɨ̧̀ɨ̧̀Ɨ̧̂ɨ̧̂Ɨ̧̌ɨ̧̌ᵼɈɉɟɟ̟ʄʄ̊ʄ̥K̵k̵ꝀꝁꝂꝃꝄꝅꞢꞣŁłł̓Ł̣ł̣ᴌȽƚⱠⱡꝈꝉƛƛ̓ꞤꞥꝊꝋØøǾǿØ̀ø̀Ø̂øØ̌ø̌Ø̄ø̄Ø̃ø̃Ø̨ø̨Ø᷎ø᷎ᴓⱣᵽꝐꝑꝖꝗꝘꝙɌɍꞦꞧꞨꞩẜẝŦŧȾⱦᵺꝤꝥꝦꝧɄʉɄ́ʉ́Ʉ̀ʉ̀Ʉ̂ʉ̂Ʉ̌ʉ̌Ʉ̄ʉ̄Ʉ̃ʉ̃Ʉ̃́ʉ̃́Ʉ̈ʉ̈ʉ̞ᵾU̸u̸ᵿꝞꝟw̸ɎɏƵƶ\u0041-\u007A\u00C0-\u02B8\u0300-\u03FF\u0400-\u04FF\u0500-\u05FF\u0600-\u06FF\u3040-\u30FF\uFB1D-\uFB1F\uFB2A-\uFB4E,\.:;\"\'\`\-\_\+\?\!\%\$\@\*\&\^\s]$/i,n.length>0&&!n.match(e)&&s.type.push("string")}s.type&&s.type.length>0&&(t[t.length]=s)})),r&&0==t.length&&(t=[{obj:"none",type:["emptyfill"]}]),t},window.tildaForm.hideErrors=function(e){e.find(".js-errorbox-all").hide(),e.find(".js-rule-error").hide(),e.find(".js-error-rule-all").html(""),e.find(".js-successbox").hide(),e.find(".js-error-control-box .t-input-error").html(""),e.find(".js-error-control-box").removeClass("js-error-control-box"),e.removeClass("js-send-form-error"),e.removeClass("js-send-form-success");var t=$("#tilda-popup-for-error");t.length>0&&t.fadeOut()},window.tildaForm.showErrorInPopup=function(e,t){if(!t||0==t.length)return!1;var r=e.data("inputbox");r||(r=".blockinput");var a,o,i,s=window.tildaForm.arValidateErrors[window.tildaBrowserLang]||{},n="",d="",l=$("#tilda-popup-for-error");0==l.length&&($("body").append('<div id="tilda-popup-for-error" class="js-form-popup-errorbox tn-form__errorbox-popup" style="display: none;"> <div class="t-form__errorbox-text t-text t-text_xs"> error </div> <div class="tn-form__errorbox-close js-errorbox-close"> <div class="tn-form__errorbox-close-line tn-form__errorbox-close-line-left"></div> <div class="tn-form__errorbox-close-line tn-form__errorbox-close-line-right"></div> </div> </div>'),l=$("#tilda-popup-for-error"),$("#tilda-popup-for-error").on("click",".js-errorbox-close",(function(e){return e.preventDefault(),$("#tilda-popup-for-error").fadeOut(),!1}))),d="";for(var c=0;c<t.length;c++)if(t[c]&&t[c].obj){if(0==c&&"none"==t[c].obj){d='<p class="t-form__errorbox-item">'+s.emptyfill+"</p>";break}for(o=0,1,(a=t[c].obj.closest(r).addClass("js-error-control-box")).find(".t-input-error").length>0&&(o=1),j=0;j<t[c].type.length;j++)error=t[c].type[j],n="",(i=e.find(".js-rule-error-"+error)).length>0?""==i.text()&&s[error]>""?-1==d.indexOf(s[error])&&(d=d+'<p class="t-form__errorbox-item">'+s[error]+"</p>"):(n=i.eq(0).text(),-1==d.indexOf(s[error])&&(d=d+'<p class="t-form__errorbox-item">'+i.eq(0).text()+"</p>")):s[error]>""&&-1==d.indexOf(s[error])&&(d=d+'<p class="t-form__errorbox-item">'+s[error]+"</p>"),o&&(""==n&&(s[error+"field"]>""?n=s[error+"field"]:s[error]>""&&(n=s[error])),n>""&&(a.find(".t-input-error").html(n),a.find(".t-input-error").fadeIn()))}return d>""&&(l.find(".t-form__errorbox-text").html(d),l.css("display","block").fadeIn(),l.find(".t-form__errorbox-item").fadeIn()),window.errorTimerID&&window.clearTimeout(window.errorTimerID),window.errorTimerID=window.setTimeout((function(){$("#tilda-popup-for-error").fadeOut(),e.find(".t-input-error").html("").fadeOut(),window.errorTimerID=0}),1e4),e.off("focus change",".js-tilda-rule"),e.on("focus change",".js-tilda-rule",(function(){$("#tilda-popup-for-error").fadeOut(),$(this).closest("form").find(".t-input-error").html("").fadeOut(),window.errorTimerID&&(window.clearTimeout(window.errorTimerID),window.errorTimerID=0)})),e.trigger("tildaform:aftererror"),!0},window.tildaForm.showErrors=function(e,t){if(!t||0==t.length)return!1;if("y"==e.data("error-popup"))return tildaForm.showErrorInPopup(e,t);var r=e.data("inputbox");r||(r=".blockinput");for(var a,o,i,s=window.tildaForm.arValidateErrors[window.tildaBrowserLang]||{},n="",d=0;d<t.length;d++)if(t[d]&&t[d].obj){if(0==d&&"none"==t[d].obj){(i=e.find(".js-rule-error-all")).html(s.emptyfill),i.css("display","block").show();break}for(o=0,1,(a=t[d].obj.closest(r).addClass("js-error-control-box")).find(".t-input-error").length>0&&(o=1),j=0;j<t[d].type.length;j++)error=t[d].type[j],n="",(i=e.find(".js-rule-error-"+error)).length>0?(""==i.text()&&s[error]>""?i.html(s[error]):n=i.eq(0).text(),i.css("display","block").show()):s[error]>""&&(i=e.find(".js-rule-error-all"))&&i.length>0&&(i.html(s[error]),i.css("display","block").show()),o&&(""==n&&(s[error+"field"]>""?n=s[error+"field"]:s[error]>""&&(n=s[error])),n>""&&a.find(".t-input-error").html(n))}return e.find(".js-errorbox-all").css("display","block").show(),e.trigger("tildaform:aftererror"),!0},checkVerifyTildaCaptcha=function(e){if(-1==e.origin.indexOf("forms.tildacdn.com"));else{if("closeiframe"==e.data)return $("#tildaformcaptchabox").remove(),void $("#js-tildaspec-captcha").remove();var t=e.data,r=$("#js-tildaspec-captcha");r&&r.length>0&&(r.val(t),$("#tildaformcaptchabox").remove(),r.closest("form").trigger("submit"))}},window.tildaForm.addTildaCaptcha=function(e,t){var r;$("#tildaformcaptchabox").remove(),$("#js-tildaspec-captcha").remove(),e.append('<input type="hidden" name="tildaspec-tildacaptcha" id="js-tildaspec-captcha">');try{r=(new Date).getTime()+"="+parseInt(8*Math.random())}catch(e){r="rnd="+parseInt(8*Math.random())}$("body").append('<div id="tildaformcaptchabox" style="z-index:10000000;position:fixed; text-align: center; vertical-align: middle; top: 0px; left:0px; bottom: 0px; right: 0px; background: rgba(255,255,255,0.97);"><iframe id="captchaIframeBox" src="//forms.tildacdn.com/procces/captcha/?tildaspec-formid='+e.attr("id")+"&tildaspec-formskey="+t+"&"+r+'" frameborder="0" width="100%" height="100%"></iframe></div>'),window.removeEventListener("message",checkVerifyTildaCaptcha),window.addEventListener("message",checkVerifyTildaCaptcha)},window.tildaForm.addPaymentInfoToForm=function(e){e.find(".js-tilda-payment").remove();var t,r,a,o="";window.tildaForm.arProductsForStat=[],window.tildaForm.orderIdForStat="",window.tildaForm.amountForStat=0,window.tildaForm.currencyForStat="",window.tcart.currency&&window.tcart.currency>""&&(o+='<input type="hidden" name="tildapayment[currency]" value="'+window.tcart.currency+'" class="js-tilda-payment">',window.tildaForm.currencyForStat=window.tcart.currency),o+='<input type="hidden" name="tildapayment[amount]" value="'+window.tcart.amount+'" class="js-tilda-payment js-tilda-price">',window.tildaForm.amountForStat=window.tcart.amount,window.tcart.system&&window.tcart.system>""?o+='<input type="hidden" name="tildapayment[system]" value="'+window.tcart.system+'" class="js-tilda-payment">':o+='<input type="hidden" name="tildapayment[system]" value="auto" class="js-tilda-payment">',window.tcart.promocode&&window.tcart.promocode.promocode>""&&(o+='<input type="hidden" name="tildapayment[promocode]" value="'+window.tcart.promocode.promocode+'" class="js-tilda-payment">',window.tcart.prodamount_discountsum&&parseFloat(window.tcart.prodamount_discountsum)>0?o+='<input type="hidden" name="tildapayment[discount]" value="'+window.tcart.prodamount_discountsum+'" class="js-tilda-payment">':window.tcart.amount_discountsum&&parseFloat(window.tcart.amount_discountsum)>0&&(o+='<input type="hidden" name="tildapayment[discount]" value="'+window.tcart.amount_discountsum+'" class="js-tilda-payment">'),window.tcart.prodamount_withdiscount&&parseFloat(window.tcart.prodamount_withdiscount)>0&&(o+='<input type="hidden" name="tildapayment[prodamount_withdiscount]" value="'+window.tcart.prodamount_withdiscount+'" class="js-tilda-payment">'),window.tcart.amount_withoutdiscount&&parseFloat(window.tcart.amount_withoutdiscount)>0&&(o+='<input type="hidden" name="tildapayment[amount_withoutdiscount]" value="'+window.tcart.amount_withoutdiscount+'" class="js-tilda-payment">')),window.tcart.prodamount&&parseFloat(window.tcart.prodamount)>0&&(o+='<input type="hidden" name="tildapayment[prodamount]" value="'+window.tcart.prodamount+'" class="js-tilda-payment">'),o+='<input type="hidden" name="tildapayment[timezoneoffset]" value="'+(new Date).getTimezoneOffset()+'" class="js-tilda-payment">';var i,s,n=0;for(window.tcart.products&&window.tcart.products.length>0&&(n=window.tcart.products.length),r=0;r<n;r+=1){for(a in i={},s="",t=window.tcart.products[r])if("function"!=typeof t[a])if("options"==a)for(var d in t[a])t[a][d].option&&(o+='<input type="hidden" name="tildapayment[products]['+r+"]["+a+"]["+d+'][option]" value="'+t[a][d].option+'" class="js-tilda-payment">'),t[a][d].price&&t[a][d].price>0&&(o+='<input type="hidden" name="tildapayment[products]['+r+"]["+a+"]["+d+'][price]" value="'+t[a][d].price+'" class="js-tilda-payment">'),t[a][d].variant&&(o+='<input type="hidden" name="tildapayment[products]['+r+"]["+a+"]["+d+'][variant]" value="'+t[a][d].variant+'" class="js-tilda-payment">'),t[a][d].option&&t[a][d].variant&&(s>""&&(s+=", "),s=s+t[a][d].option+":"+t[a][d].variant);else o+='<input type="hidden" name="tildapayment[products]['+r+"]["+a+']" value="'+t[a]+'" class="js-tilda-payment">';t.sku&&(i.id=t.sku),i.name=t.name,t.price?(i.price=t.price,i.quantity=parseInt(t.amount/t.price)):t.quantity&&t.quantity>1?(i.price=t.amount/t.quantity,i.quantity=t.quantity):(i.price=t.amount,i.quantity=1),i.name=t.name,s>""&&(i.name=i.name+"("+s+")"),window.tildaForm.arProductsForStat.push(i)}window.tcart.delivery&&window.tcart.delivery.name&&(o+='<input type="hidden" name="tildapayment[delivery][name]" value="'+window.tcart.delivery.name+'" class="js-tilda-payment">',window.tcart.delivery&&window.tcart.delivery.price&&(o+='<input type="hidden" name="tildapayment[delivery][price]" value="'+window.tcart.delivery.price+'" class="js-tilda-payment">',i={name:window.tcart.delivery.name,price:window.tcart.delivery.price,quantity:1,id:"delivery"},window.tildaForm.arProductsForStat.push(i))),e.append(o)},window.tildaForm.clearTCart=function(e){if("y"==e.data("formcart")){if(window.tcart={amount:0,currency:"",system:"",products:[]},window.tcart.system="none","object"==typeof localStorage)try{localStorage.removeItem("tcart")}catch(e){console.log("Your web browser does not support localStorage.")}try{delete window.tcart,tcart__loadLocalObj()}catch(e){}window.tcart_success="yes"}},window.tildaForm.payment=function($jform,arNext){var html="";if("y"!=$jform.data("formpaymentoff")){if($jform.find(".js-successbox").length>0){$jform.find(".js-successbox").text()>""&&$jform.data("successmessage",$jform.find(".js-successbox").text());var arMessage=window.tildaForm.arMessages[window.tildaBrowserLang]||{};arMessage.successorder&&$jform.find(".js-successbox").html(arMessage.successorder),$jform.find(".js-successbox").show()}if($jform.addClass("js-send-form-success"),"link"==arNext.type)return tildaForm.clearTCart($jform),arNext.message&&arNext.message>""&&$jform.find(".js-successbox").length>0&&($jform.find(".js-successbox").html(arNext.message),$jform.find(".js-successbox").show()),window.location.href=arNext.value,!0;if("form"==arNext.type){tildaForm.clearTCart($jform),$("#js-tilda-payment-formid").remove();var key="",val="";for(key in html='<form id="js-tilda-payment-formid" action="'+arNext.value.action+'" method="post"  style="position:absolue;opacity:0;width: 1px; height: 1px; left: -5000px;">',arNext.value.action="",arNext.value)val=arNext.value[key],"function"!=typeof val&&val>""&&(html+="<input type='hidden' name='"+key+"' value='"+val+"' >");html+="</form>",$("body").append(html),$("#js-tilda-payment-formid").submit()}else{if("function"==arNext.type){var arArgs=arNext.value.args;return eval(arNext.value.name+"($jform, arArgs);"),!1}tildaForm.clearTCart($jform),"text"==arNext.type&&arNext.message&&arNext.message>""&&$jform.find(".js-successbox").length>0&&($jform.find(".js-successbox").html(arNext.message),$jform.find(".js-successbox").show())}}else tildaForm.clearTCart($jform)},window.tildaForm.stripeLoad=function(){if(!0!==window.stripeapiiscalled){var e=document.createElement("script");e.type="text/javascript",e.src="https://checkout.stripe.com/checkout.js",document.body.appendChild(e),window.stripeapiiscalled=!0}},window.tildaForm.stripePay=function(e,t){if(!0!==window.stripeapiiscalled)return window.tildaForm.stripeLoad(),window.setTimeout((function(){window.tildaForm.stripePay(e,t)}),200),!1;var r=t.companyname,a=t.companylogo;if(r||(r=window.location.host),!window.stripehandler){if("object"!=typeof window.StripeCheckout)return window.setTimeout((function(){window.tildaForm.stripePay(e,t)}),200),!1;window.stripehandler=window.StripeCheckout.configure({key:t.accountid,image:a,name:r,locale:"auto"}),$(window).on("popstate",(function(){window.stripehandler.close()}))}window.tildaForm.orderIdForStat=t.invoiceid,window.stripehandler.open({name:r,image:a,description:t.description,amount:parseInt(100*parseFloat(t.amount)),currency:t.currency,shippingAddress:"1"==t.shipping,email:t.email>""?t.email:"",token:function(r,a){r&&r.id&&$.ajax({type:"POST",url:"https://forms.tildacdn.com/payment/stripe/",data:{projectid:t.projectid,invoiceid:t.invoiceid,token:r.id,email:r.email,currency:t.currency,amount:parseInt(100*parseFloat(t.amount))},dataType:"json",success:function(r){window.tildaForm.clearTCart(e);var a="/tilda/"+e.attr("id")+"/payment/",o="Pay order in form "+e.attr("id"),i=t.amount,s=t.description;window.Tilda&&"function"==typeof Tilda.sendEventToStatistics&&($("#allrecords").data("tilda-currency")||$("#allrecords").data("tilda-currency",t.currency),Tilda.sendEventToStatistics(a,o,s,i));t.successurl>""&&window.setTimeout((function(){window.location.href=t.successurl}),300),e.data("successmessage")>""?e.find(".js-successbox").html(e.data("successmessage")):e.find(".js-successbox").html(""),e.data("successmessage","");var n=e.data("success-callback");window.tildaForm.successEnd(e,t.successurl,n),e.trigger("tildaform:aftersuccess")},fail:function(){},timeout:15e3})}})},window.tildaForm.cloudpaymentLoad=function(){if(!0!==window.cloudpaymentsapiiscalled){var e=document.createElement("script");e.type="text/javascript",e.src="https://widget.cloudpayments.ru/bundles/cloudpayments",document.body.appendChild(e),window.cloudpaymentsapiiscalled=!0}},window.tildaForm.cloudpaymentPay=function(e,t){if(!0!==window.cloudpaymentsapiiscalled)return window.tildaForm.cloudpaymentLoad(),window.setTimeout((function(){window.tildaForm.cloudpaymentPay(e,t)}),200),!1;var r=t.currency,a=t.language;if(a||(a="RUB"==r||"BYR"==r?"ru-RU":"en-US"),!window.cloudpaymentshandler){if("object"!=typeof window.cp)return window.setTimeout((function(){window.tildaForm.cloudpaymentPay(e,t)}),200),!1;window.cloudpaymentshandler=new cp.CloudPayments({language:a})}var o={};o.projectid=t.projectid,t.cloudPayments&&(t.cloudPayments.recurrent||t.cloudPayments.customerReceipt)&&(o.cloudPayments=t.cloudPayments);var i=e.closest(".t-popup_show");return i&&0!=i.length||(i=e.closest(".t706__cartwin_showed")),i.data("old-style",i.attr("style")),i.attr("style","z-index:auto"),window.tildaForm.orderIdForStat=t.invoiceid,window.cloudpaymentshandler.charge({publicId:t.publicId,description:t.description,amount:parseFloat(t.amount),currency:r,accountId:t.accountId,invoiceId:t.invoiceId,requireEmail:1==t.requireEmail,email:t.email,data:o},(function(a){window.tildaForm.clearTCart(e),window.cloudpaymentshandler=!1,i.attr("style",i.data("old-style"));var o="/tilda/"+e.attr("id")+"/payment/",s="Pay order in form "+e.attr("id"),n=t.amount,d=t.description;$("#allrecords").data("tilda-currency",r),window.Tilda&&"function"==typeof Tilda.sendEventToStatistics&&Tilda.sendEventToStatistics(o,s,d,n),t.successurl>""&&window.setTimeout((function(){window.location.href=t.successurl}),300),e.data("successmessage")>""?e.find(".js-successbox").html(e.data("successmessage")):e.find(".js-successbox").html(""),e.data("successmessage","");var l=e.data("success-callback");window.tildaForm.successEnd(e,t.successurl,l),e.trigger("tildaform:aftersuccess")}),(function(r,a){if(i.attr("style",i.data("old-style")),e.find(".js-successbox").hide(),e.data("successmessage")>""?e.find(".js-successbox").html(e.data("successmessage")):e.find(".js-successbox").html(""),e.data("successmessage",""),window.cloudpaymentshandler=!1,t.failureurl>"")window.location.href=t.failureurl;else{i.find(".t706__cartwin-products").show(),i.find(".t706__cartwin-prodamount-wrap").show(),i.find(".t706__form-bottom-text").show(),e.find(".t-form__inputsbox").show();try{tcart__lockScroll()}catch(e){}}})),!1},window.tildaForm.sendStatAndShowMessage=function($jform,arArgs,sendStat){if(sendStat){var virtPage="/tilda/"+$jform.attr("id")+"/payment/",virtTitle="Pay order in form "+$jform.attr("id"),virtPrice=arArgs.amount,virtProduct=arArgs.description;if(window.Tilda&&"function"==typeof Tilda.sendEventToStatistics){var currency=$("#allrecords").data("tilda-currency");currency||$("#allrecords").data("tilda-currency",arArgs.currency),Tilda.sendEventToStatistics(virtPage,virtTitle,virtProduct,virtPrice)}}if($jform.find(".js-successbox").length>0){if("y"==$jform.data("success-popup")&&$jform.find(".js-successbox").hide(),arArgs.successmessage&&arArgs.successmessage>"")$jform.find(".js-successbox").html(arArgs.successmessage);else if($jform.data("successmessage")>"")$jform.find(".js-successbox").html($jform.data("successmessage"));else{var arMessage=window.tildaForm.arMessages[window.tildaBrowserLang]||{};arMessage.success?$jform.find(".js-successbox").html(arMessage.success):$jform.find(".js-successbox").html("")}$jform.data("successmessage",""),"y"==$jform.data("success-popup")?window.tildaForm.showSuccessPopup($jform.find(".js-successbox").html()):$jform.find(".js-successbox").show()}$jform.addClass("js-send-form-success"),window.tildaForm.clearTCart($jform),arArgs.successurl>""&&window.setTimeout((function(){window.location.href=arArgs.successurl}),300);var successcallback=$jform.data("success-callback");successcallback&&successcallback.length>0&&eval(successcallback+"($jform)"),$jform.find("input[type=text]:visible").val(""),$jform.find("textarea:visible").html(""),$jform.find("textarea:visible").val(""),$jform.data("tildaformresult",{tranid:"0",orderid:"0"}),$jform.trigger("tildaform:aftersuccess")},window.tildaForm.banktransferPay=function(e,t){if(t&&"fast"==t.condition)window.tildaForm.sendStatAndShowMessage(e,t,!0);else if(t&&t.html>""){$("#allrecords").append(t.html),$(".t-banktransfer .t-popup__close").off("click"),$(".t-banktransfer .t-popup__close").click((function(){$("body").removeClass("t-body_popupshowed"),$(".t-banktransfer").remove();try{"function"==typeof tcart__closeCart&&tcart__closeCart()}catch(e){}return!1})),$("body").addClass("t-body_popupshowed");var r,a=$("#formbanktransfer");a.length>0&&(a.off("submit"),a.find(".t-submit").off("click"),a.find(".t-submit").off("dblclick"),a.submit((function(o){if(o.preventDefault(),(r=window.tildaForm.validate(a))&&r.length>0)return window.tildaForm.showErrors(a,r),!1;$.ajax({type:"POST",url:"https://forms.tildacdn.com/payment/banktransfer/",data:a.serialize(),dataType:"json",success:function(r){if($("body").removeClass("t-body_popupshowed"),a.closest(".t-banktransfer").remove(),r||(r={error:"Unknown error. Please reload page and try again later."}),r&&r.error)return alert(r.error),!1;window.tildaForm.sendStatAndShowMessage(e,t,!0)},error:function(e){$("body").removeClass("t-body_popupshowed"),a.remove(),alert(e)},timeout:15e3})})))}else window.tildaForm.sendStatAndShowMessage(e,t,!0)},window.tildaForm.closeSuccessPopup=function(){var e=$("#tildaformsuccesspopup");e.length>0&&($("body").removeClass("t-body_success-popup-showed"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&window.tildaForm.unlockBodyScroll(),e.fadeOut("fast"))},window.tildaForm.lockBodyScroll=function(){var e=$("body");if(!e.hasClass("t-body_scroll-locked")){var t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;e.addClass("t-body_scroll-locked"),e.css("top","-"+t+"px"),e.attr("data-popup-scrolltop",t)}},window.tildaForm.unlockBodyScroll=function(){var e=$("body");if(e.hasClass("t-body_scroll-locked")){var t=$("body").attr("data-popup-scrolltop");e.removeClass("t-body_scroll-locked"),e.css("top",""),e.removeAttr("data-popup-scrolltop"),window.scrollTo(0,t)}},window.tildaForm.showSuccessPopup=function(e){var t="",r=$("#tildaformsuccesspopup");0==r.length&&(t='<style media="screen"> .t-form-success-popup { display: none; position: fixed; background-color: rgba(0,0,0,.8); top: 0px; left: 0px; width: 100%; height: 100%; z-index: 10000; overflow-y: auto; cursor: pointer; } .t-body_success-popup-showed { height: 100vh; min-height: 100vh; overflow: hidden; } .t-form-success-popup__window { width: 100%; max-width: 400px; position: absolute; top: 50%; -webkit-transform: translateY(-50%); transform: translateY(-50%); left: 0px; right: 0px; margin: 0 auto; padding: 20px; box-sizing: border-box; } .t-form-success-popup__wrapper { background-color: #fff; padding: 40px 40px 50px; box-sizing: border-box; border-radius: 5px; text-align: center; position: relative; cursor: default; } .t-form-success-popup__text { padding-top: 20px; } .t-form-success-popup__close-icon { position: absolute; top: 14px; right: 14px; cursor: pointer; } @media screen and (max-width: 480px) { .t-form-success-popup__text { padding-top: 10px; } .t-form-success-popup__wrapper { padding-left: 20px; padding-right: 20px; } } </style>',t+='<div class="t-form-success-popup" style="display:none;" id="tildaformsuccesspopup"> <div class="t-form-success-popup__window"> <div class="t-form-success-popup__wrapper"> <svg class="t-form-success-popup__close-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="t657__icon-close" viewBox="0 0 23 23"> <g fill-rule="evenodd"> <path d="M0 1.41L1.4 0l21.22 21.21-1.41 1.42z"/> <path d="M21.21 0l1.42 1.4L1.4 22.63 0 21.21z"/> </g> </svg> <svg width="50" height="50" fill="#62C584"> <path d="M25.1 49.28A24.64 24.64 0 0 1 .5 24.68 24.64 24.64 0 0 1 25.1.07a24.64 24.64 0 0 1 24.6 24.6 24.64 24.64 0 0 1-24.6 24.61zm0-47.45A22.87 22.87 0 0 0 2.26 24.68 22.87 22.87 0 0 0 25.1 47.52a22.87 22.87 0 0 0 22.84-22.84A22.87 22.87 0 0 0 25.1 1.83z"/> <path d="M22.84 30.53l-4.44-4.45a.88.88 0 1 1 1.24-1.24l3.2 3.2 8.89-8.9a.88.88 0 1 1 1.25 1.26L22.84 30.53z"/> </svg> <div class="t-form-success-popup__text t-descr t-descr_sm" id="tildaformsuccesspopuptext"> Thank You! </div> </div> </div> </div>',$("body").append(t),(r=$("#tildaformsuccesspopup")).click((function(e){e.target==this&&window.tildaForm.closeSuccessPopup()})),r.find(".t-form-success-popup__close-icon").click((function(e){window.tildaForm.closeSuccessPopup()})),$(document).keydown((function(e){27==e.keyCode&&window.tildaForm.closeSuccessPopup()}))),$("#tildaformsuccesspopuptext").html(e),r.fadeIn("fast"),$("body").addClass("t-body_success-popup-showed"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&setTimeout((function(){window.tildaForm.lockBodyScroll()}),500)},window.tildaForm.successEnd=function($jform,successurl,successcallback){if($jform.find(".js-successbox").length>0){if(""==$jform.find(".js-successbox").text()){var arMessage=window.tildaForm.arMessages[window.tildaBrowserLang]||{};arMessage.success&&$jform.find(".js-successbox").html(arMessage.success)}"y"==$jform.data("success-popup")?window.tildaForm.showSuccessPopup($jform.find(".js-successbox").html()):$jform.find(".js-successbox").show()}$jform.addClass("js-send-form-success"),successcallback&&successcallback.length>0?eval(successcallback+"($jform)"):successurl&&successurl.length>0&&setTimeout((function(){window.location.href=successurl}),500),tildaForm.clearTCart($jform),$jform.find("input[type=text]:visible").val(""),$jform.find("textarea:visible").html(""),$jform.find("textarea:visible").val(""),$jform.data("tildaformresult",{tranid:"0",orderid:"0"})},window.tildaForm.send=function($jform,btnformsubmit,formtype,formskey){var $inputElem;if("y"==$jform.data("formcart")&&window.tildaForm.addPaymentInfoToForm($jform),2==formtype||!formtype&&formskey>"")return $inputElem=$jform.find("input[name=tildaspec-cookie]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-cookie" value="">'),$inputElem=$jform.find("input[name=tildaspec-cookie]")),$inputElem.length>0&&$inputElem.val(document.cookie),$inputElem=$jform.find("input[name=tildaspec-referer]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-referer" value="">'),$inputElem=$jform.find("input[name=tildaspec-referer]")),$inputElem.length>0&&$inputElem.val(window.location.href),$inputElem=$jform.find("input[name=tildaspec-formid]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-formid" value="">'),$inputElem=$jform.find("input[name=tildaspec-formid]")),$inputElem.length>0&&$inputElem.val($jform.attr("id")),formskey>""&&($inputElem=$jform.find("input[name=tildaspec-formskey]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-formskey" value="">'),$inputElem=$jform.find("input[name=tildaspec-formskey]")),$inputElem.length>0&&$inputElem.val(formskey)),$inputElem=$jform.find("input[name=tildaspec-version-lib]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-version-lib" value="">'),$inputElem=$jform.find("input[name=tildaspec-version-lib]")),$inputElem.length>0&&$inputElem.val(window.tildaForm.versionLib),$inputElem=$jform.find("input[name=tildaspec-pageid]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-pageid" value="">'),$inputElem=$jform.find("input[name=tildaspec-pageid]")),$inputElem.length>0&&$inputElem.val($("#allrecords").data("tilda-page-id")),$inputElem=$jform.find("input[name=tildaspec-projectid]"),$inputElem&&0!=$inputElem.length||($jform.append('<input type="hidden" name="tildaspec-projectid" value="">'),$inputElem=$jform.find("input[name=tildaspec-projectid]")),$inputElem.length>0&&$inputElem.val($("#allrecords").data("tilda-project-id")),$jform.find(".js-form-spec-comments").val(""),$formurl="https://forms.tildacdn.com/procces/",$.ajax({type:"POST",url:$formurl,data:$jform.serialize(),dataType:"json",success:function(json){var successurl=$jform.data("success-url"),successcallback=$jform.data("success-callback"),formsendedcallback=$jform.data("formsended-callback");if(btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform",""),json&&json.error){successurl="",successcallback="";var $errBox=$jform.find(".js-errorbox-all");$errBox&&0!=$errBox.length||($jform.prepend('<div class="js-errorbox-all"></div>'),$errBox=$jform.find(".js-errorbox-all"));var $allError=$errBox.find(".js-rule-error-all");$allError&&0!=$allError.length||($errBox.append('<p class="js-rule-error-all">'+json.error+"</p>"),$allError=$errBox.find(".js-rule-error-all")),$allError.html(json.error).show(),$errBox.show(),$jform.addClass("js-send-form-error"),$jform.trigger("tildaform:aftererror")}else{if(json&&json.needcaptcha)return formskey?void tildaForm.addTildaCaptcha($jform,formskey):void alert("Server busy. Please try again later.");var formres={};if(json&&json.results&&json.results[0]){var str=json.results[0];str=str.split(":"),formres.tranid=str[0]+":"+str[1],formres.orderid=str[2]?str[2]:"0",formres.orderid>""&&"0"!=formres.orderid&&(window.tildaForm.orderIdForStat=formres.orderid)}else formres.tranid="0",formres.orderid="0";$jform.data("tildaformresult",formres);var virtPage=$jform.data("tilda-event-name")||"";virtPage&&""!=virtPage||(virtPage="y"==$jform.data("formcart")&&json&&(json.next&&json.next.type&&"function"!=json.next.type||!json.next)?"/tilda/"+$jform.attr("id")+"/payment/":"/tilda/"+$jform.attr("id")+"/submitted/");var virtTitle="Send data from form "+$jform.attr("id"),virtPrice=0,virtProduct="";if(window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?($jform.find(".js-tilda-price").length>0&&(virtPrice=$jform.find(".js-tilda-price").val(),parseFloat(virtPrice)>0&&(virtTitle="Order "+formres.orderid)),Tilda.sendEventToStatistics(virtPage,virtTitle,virtProduct,virtPrice),window.dataLayer&&window.dataLayer.push({event:"submit_"+$jform.attr("id")})):("undefined"!=typeof ga&&ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:virtPage,title:virtTitle}),window.mainMetrika>""&&window[window.mainMetrika]&&window[window.mainMetrika].hit(virtPage,{title:virtTitle,referer:window.location.href}),window.dataLayer&&window.dataLayer.push({event:"submit_"+$jform.attr("id")})),$jform.trigger("tildaform:aftersuccess"),formsendedcallback&&formsendedcallback.length>0&&eval(formsendedcallback+"($jform);"),json&&json.next&&json.next.type>""){var res=window.tildaForm.payment($jform,json.next);return successurl="",!1}window.tildaForm.successEnd($jform,successurl,successcallback)}},error:function(e){btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform","");var t=$jform.find(".js-errorbox-all");t&&0!=t.length||($jform.prepend('<div class="js-errorbox-all"></div>'),t=$jform.find(".js-errorbox-all"));var r=t.find(".js-rule-error-all");r&&0!=r.length||(t.append('<p class="js-rule-error-all"></p>'),r=t.find(".js-rule-error-all")),e&&e.responseText>""?r.html(e.responseText+". Please, try again later."):e&&e.statusText?r.html("Error ["+e.statusText+"]. Please, try again later."):r.html("Unknown error. Please, try again later."),r.show(),t.show(),$jform.addClass("js-send-form-error"),$jform.trigger("tildaform:aftererror")},timeout:15e3}),!1;if("y"==$jform.data("is-formajax"))return $.ajax({type:"POST",url:$jform.attr("action"),data:$jform.serialize(),dataType:"text",success:function(e){var t,r=$jform.data("success-url"),a=$jform.data("success-callback");if(btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform",""),e&&e.length>0)if("{"==e.substring(0,1)){if((t=window.JSON&&window.JSON.parse?window.JSON.parse(e):$.parseJSON(e))&&t.message)"OK"!=t.message&&$jform.find(".js-successbox").html(t.message);else if(t&&t.error){var o=$jform.find(".js-errorbox-all");o&&0!=o.length||($jform.prepend('<div class="js-errorbox-all"></div>'),o=$jform.find(".js-errorbox-all"));var i=o.find(".js-rule-error-all");return i&&0!=i.length||(o.append('<p class="js-rule-error-all">Unknown error. Please, try again later.</p>'),i=o.find(".js-rule-error-all")),i.html(t.error),i.show(),o.show(),$jform.addClass("js-send-form-error"),$jform.trigger("tildaform:aftererror"),!1}}else $jform.find(".js-successbox").html(e);var s="/tilda/"+$jform.attr("id")+"/submitted/",n="Send data from form "+$jform.attr("id");window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?window.Tilda.sendEventToStatistics(s,n,"",0):("undefined"!=typeof ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:s,title:n}),window.mainMetrika>""&&window[window.mainMetrika]&&window[window.mainMetrika].hit(s,{title:n,referer:window.location.href})),$jform.trigger("tildaform:aftersuccess"),window.tildaForm.successEnd($jform,r,a)},error:function(e){btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform","");var t=$jform.find(".js-errorbox-all");t&&0!=t.length||($jform.prepend('<div class="js-errorbox-all"></div>'),t=$jform.find(".js-errorbox-all"));var r=t.find(".js-rule-error-all");r&&0!=r.length||(t.append('<p class="js-rule-error-all"></p>'),r=t.find(".js-rule-error-all")),e&&e.responseText>""?r.html(e.responseText+". Please, try again later."):e&&e.statusText?r.html("Error ["+e.statusText+"]. Please, try again later."):r.html("Unknown error. Please, try again later."),r.show(),t.show(),$jform.addClass("js-send-form-error"),$jform.trigger("tildaform:aftererror")},timeout:15e3}),!1;var attraction=$jform.attr("action");return-1==attraction.indexOf("forms.tildacdn.com")&&(btnformsubmit.data("form-sending-status","3"),$jform.submit(),!0)},$(".js-tilda-captcha").each((function(){if($(this).attr("data-tilda-captchakey")>""){!1===window.tildaForm.isRecaptchaScriptInit&&(window.tildaForm.isRecaptchaScriptInit=!0,$("head").append('<script src="https://www.google.com/recaptcha/api.js?render=explicit" async defer><\/script>'),$("head").append('<style type="text/css">.js-send-form-success .grecaptcha-badge {display: none;}</style>'));var e=$(this).attr("id");0==$("#"+e+"recaptcha").length&&$(this).append('<div id="'+e+'recaptcha" class="g-recaptcha" data-sitekey="'+$(this).attr("data-tilda-captchakey")+'" data-callback="window.tildaForm.captchaCallback" data-size="invisible"></div>')}else $(this).removeClass("js-tilda-captcha")})),window.tildaForm_initMasks=function(){$(".js-tilda-mask").each((function(){var e=$(this).data("tilda-mask"),t=$(this).data("tilda-mask-holder");e&&!$(this).data("tilda-mask-init")&&(t&&t>""?$(this).mask(""+e,{placeholder:""+t}):$(this).mask(""+e),$(this).data("tilda-mask-init","1"))}))},window.tildaForm_initMasks(),$(".r").off("focus",".js-tilda-rule"),$(".r").on("focus",".js-tilda-rule",(function(){var e=$(this).attr("placeholder");e&&e.length>0&&($(this).data("placeholder",e),$(this).attr("placeholder",""))})),$(".r").off("blur",".js-tilda-rule"),$(".r").on("blur",".js-tilda-rule",(function(){var e=$(this).data("placeholder");e>""&&($(this).attr("placeholder",e),$(this).data("placeholder",""))})),window.validateForm=function(e){return window.tildaForm.validate(e)};var $jallforms=$(".r").find(".js-form-proccess[data-formactiontype]");$jallforms.length>0&&$jallforms.each((function(){1!=$(this).data("formactiontype")&&$(this).append('<div style="position: absolute; left: -5000px; bottom:0;"><input type="text" name="form-spec-comments" value="Its good" class="js-form-spec-comments"  tabindex="-1" /></div>')})),$(".r").find(".js-form-procces").each((function(){try{2==$(this).data("formactiontype")&&$(this).attr("action","#")}catch(e){console.log(e)}})),$(".r").off("submit",".js-form-proccess"),$(".r").on("submit",".js-form-proccess",(function(e){var t=$(this).find("[type=submit]"),r=t.data("form-sending-status");return r&&3==r?(t.data("form-sending-status",""),!0):($(this).find("[type=submit]").trigger("click"),!1)})),$(".r").on("dblclick",".js-form-proccess [type=submit]",(function(e){return e.preventDefault(),!1})),$(".r").off("click",".js-form-proccess [type=submit]"),$(".r").on("click",".js-form-proccess [type=submit]",(function(e){e.preventDefault();var t=$(this);if(t.data("form-sending-status")>="1")return!1;var r,a=$(this).closest("form");if(0==a.length)return!1;if(t.addClass("t-btn_sending"),t.data("form-sending-status","1"),t.data("submitform",a),window.tildaForm.hideErrors(a),r=window.tildaForm.validate(a),window.tildaForm.showErrors(a,r))return t.removeClass("t-btn_sending"),t.data("form-sending-status","0"),t.data("submitform",""),!1;var o=a.data("formactiontype"),i=$("#allrecords").data("tilda-formskey");if(0==a.find(".js-formaction-services").length&&1!=o&&""==i){var s=a.find(".js-errorbox-all");s&&0!=s.length||(a.prepend('<div class="js-errorbox-all"></div>'),s=a.find(".js-errorbox-all"));var n=s.find(".js-rule-error-all");return n&&0!=n.length||(s.append('<p class="js-rule-error-all">'+json.error+"</p>"),n=s.find(".js-rule-error-all")),n.html("Please set receiver in block with forms").show(),s.show(),a.addClass("js-send-form-error"),t.removeClass("t-btn_sending"),t.data("form-sending-status","0"),t.data("submitform",""),a.trigger("tildaform:aftererror"),!1}if(a.find(".g-recaptcha").length>0&&grecaptcha){window.tildaForm.currentFormProccessing={form:a,btn:t,formtype:o,formskey:i};var d=a.data("tilda-captcha-clientid");if(void 0===d||""===d){var l={size:"invisible",sitekey:a.data("tilda-captchakey"),callback:window.tildaForm.captchaCallback};d=grecaptcha.render(a.attr("id")+"recaptcha",l),a.data("tilda-captcha-clientid",d)}else grecaptcha.reset(d);return grecaptcha.execute(d),!1}return window.tildaForm.send(a,t,o,i),!1}));try{var TILDAPAGE_URL=window.location.href,TILDAPAGE_QUERY="",TILDAPAGE_UTM="";if(-1!==TILDAPAGE_URL.toLowerCase().indexOf("utm_")&&(TILDAPAGE_URL=TILDAPAGE_URL.toLowerCase(),TILDAPAGE_QUERY=TILDAPAGE_URL.split("?"),TILDAPAGE_QUERY=TILDAPAGE_QUERY[1],"string"==typeof TILDAPAGE_QUERY)){var arPair,i,arParams=TILDAPAGE_QUERY.split("&");for(i in arParams)"function"!=typeof arParams[i]&&(arPair=arParams[i].split("="),"utm_"==arPair[0].substring(0,4)&&(TILDAPAGE_UTM=TILDAPAGE_UTM+arParams[i]+"|||"));if(TILDAPAGE_UTM.length>0){var date=new Date;date.setDate(date.getDate()+30),document.cookie="TILDAUTM="+encodeURIComponent(TILDAPAGE_UTM)+"; path=/; expires="+date.toUTCString()}}}catch(e){}}))}(jQuery);